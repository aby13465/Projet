{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button}from\"@material-ui/core\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},btnSpacing:{margin:theme.spacing(0,1,1,0)}};});export default function Commandes(){var classes=useStyles();var _useState=useState(\"en Attente\"),_useState2=_slicedToArray(_useState,2),etat=_useState2[0],setEtat=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),data=_useState4[0],setData=_useState4[1];var Buttons=function Buttons(d){switch(etat){case\"en Attente\":return React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/changeretat\",{_id:d._id,etat:\"Confirmé\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){setEtat(\"Confirmé\");});}},\"Confirmer\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/changeretat\",{_id:d._id,etat:\"Annulé\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){setEtat(\"Annulé\");});}},\"Annuler\"));case\"Confirmé\":return React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/changeretat\",{_id:d._id,etat:\"Livré\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){setEtat(\"Livré\");});}},\"Livr\\xE9\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/changeretat\",{_id:d._id,etat:\"Annulé\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setEtat(\"Annulé\");});}},\"Annuler\"));case\"Annulé\":return React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/changeretat\",{_id:d._id,etat:\"Confirmé\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setEtat(\"Confirmé\");});}},\"Confirmer\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/supprimer\",{_id:d._id},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setEtat(\"en Attente\");});}},\"Supprimer\"));case\"Livré\":return React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/commandes/supprimer\",{_id:d._id},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setEtat(\"en Attente\");});}},\"Supprimer\"));default:return React.createElement(\"div\",null);}};useEffect(function(){setData([]);axios.post(\"http://localhost:4000/commandes/recherche\",{etat:etat},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){resultat.data.forEach(function(r){setData(function(d){return[].concat(_toConsumableArray(d),[{_id:r._id,adresse:r.adresse,client:r.client,liste:r.liste,prix:r.prix,etat:r.etat,cree:r.cree}]);});});});},[etat]);return React.createElement(\"div\",null,React.createElement(Button,{color:\"primary\",className:classes.btnSpacing,onClick:function onClick(){setEtat(\"en Attente\");}},\"en Attente\"),React.createElement(Button,{color:\"primary\",className:classes.btnSpacing,onClick:function onClick(){setEtat(\"Confirmé\");}},\"Confirm\\xE9s\"),React.createElement(Button,{color:\"primary\",className:classes.btnSpacing,onClick:function onClick(){setEtat(\"Annulé\");}},\"Annul\\xE9s\"),React.createElement(Button,{color:\"primary\",className:classes.btnSpacing,onClick:function onClick(){setEtat(\"Livré\");}},\"Livr\\xE9s\"),React.createElement(TableContainer,{component:Paper},React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,{align:\"left\"},\"Client\"),React.createElement(TableCell,{align:\"left\"},\"Liste des Articles\"),React.createElement(TableCell,{align:\"left\"},\"PrixTotal\"),React.createElement(TableCell,{align:\"left\"},\"Adresse\"),React.createElement(TableCell,{align:\"left\"},\"Date\"),React.createElement(TableCell,{align:\"left\"},\"Etat\"),React.createElement(TableCell,{align:\"center\"},\"Actions\"))),React.createElement(TableBody,null,data.map(function(d){return React.createElement(TableRow,null,React.createElement(TableCell,{align:\"left\"},React.createElement(\"div\",null,\"ID: \",d.client._id),React.createElement(\"div\",null,\"Nom: \",d.client.nom),React.createElement(\"div\",null,\"Pr\\xE9nom: \",d.client.prenom),React.createElement(\"div\",null,\"E-mail: \",d.client.email),React.createElement(\"div\",null,\"T\\xE9l\\xE9phone: \",d.client.telephone)),React.createElement(TableCell,{align:\"left\"},d.liste.map(function(l){return React.createElement(\"div\",null,l.nom,\" x\",l.quantite,\" : \",l.prix,\" DT\");})),React.createElement(TableCell,{align:\"left\"},d.prix,\" DT\"),React.createElement(TableCell,{align:\"left\"},d.adresse),React.createElement(TableCell,{align:\"left\"},d.cree),React.createElement(TableCell,{align:\"left\"},d.etat),Buttons(d));})))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Commandes/Commandes.js"],"names":["React","useState","useEffect","makeStyles","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","useStyles","theme","table","minWidth","btnSpacing","margin","spacing","Commandes","classes","etat","setEtat","data","setData","Buttons","d","post","_id","headers","Authorization","localStorage","getItem","then","resultat","forEach","r","adresse","client","liste","prix","cree","map","nom","prenom","email","telephone","l","quantite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  btnSpacing: {\r\n    margin: theme.spacing(0, 1, 1, 0),\r\n  },\r\n}));\r\n\r\nexport default function Commandes() {\r\n  const classes = useStyles();\r\n  const [etat, setEtat] = useState(\"en Attente\");\r\n  const [data, setData] = useState([]);\r\n\r\n  const Buttons = (d) => {\r\n    switch (etat) {\r\n      case \"en Attente\":\r\n        return (\r\n          <TableCell align=\"center\">\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/changeretat\",\r\n                    { _id: d._id, etat: \"Confirmé\" },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then((resultat) => {\r\n                    setEtat(\"Confirmé\");\r\n                  });\r\n              }}\r\n            >\r\n              Confirmer\r\n            </Button>\r\n            <Button\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/changeretat\",\r\n                    { _id: d._id, etat: \"Annulé\" },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then((resultat) => {\r\n                    setEtat(\"Annulé\");\r\n                  });\r\n              }}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </TableCell>\r\n        );\r\n      case \"Confirmé\":\r\n        return (\r\n          <TableCell align=\"center\">\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/changeretat\",\r\n                    { _id: d._id, etat: \"Livré\" },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then((resultat) => {\r\n                    setEtat(\"Livré\");\r\n                  });\r\n              }}\r\n            >\r\n              Livré\r\n            </Button>\r\n            <Button\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/changeretat\",\r\n                    { _id: d._id, etat: \"Annulé\" },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    setEtat(\"Annulé\");\r\n                  });\r\n              }}\r\n            >\r\n              Annuler\r\n            </Button>\r\n          </TableCell>\r\n        );\r\n      case \"Annulé\":\r\n        return (\r\n          <TableCell align=\"center\">\r\n            <Button\r\n              color=\"primary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/changeretat\",\r\n                    { _id: d._id, etat: \"Confirmé\" },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    setEtat(\"Confirmé\");\r\n                  });\r\n              }}\r\n            >\r\n              Confirmer\r\n            </Button>\r\n            <Button\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/supprimer\",\r\n                    { _id: d._id },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    setEtat(\"en Attente\");\r\n                  });\r\n              }}\r\n            >\r\n              Supprimer\r\n            </Button>\r\n          </TableCell>\r\n        );\r\n      case \"Livré\":\r\n        return (\r\n          <TableCell align=\"center\">\r\n            <Button\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                axios\r\n                  .post(\r\n                    \"http://localhost:4000/commandes/supprimer\",\r\n                    { _id: d._id },\r\n                    {\r\n                      headers: {\r\n                        Authorization:\r\n                          \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                      },\r\n                    }\r\n                  )\r\n                  .then(() => {\r\n                    setEtat(\"en Attente\");\r\n                  });\r\n              }}\r\n            >\r\n              Supprimer\r\n            </Button>\r\n          </TableCell>\r\n        );\r\n      default:\r\n        return <div></div>;\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setData([]);\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/commandes/recherche\",\r\n        { etat },\r\n        {\r\n          headers: {\r\n            Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n          },\r\n        }\r\n      )\r\n      .then((resultat) => {\r\n        resultat.data.forEach((r) => {\r\n          setData((d) => [\r\n            ...d,\r\n            {\r\n              _id: r._id,\r\n              adresse: r.adresse,\r\n              client: r.client,\r\n              liste: r.liste,\r\n              prix: r.prix,\r\n              etat: r.etat,\r\n              cree: r.cree,\r\n            },\r\n          ]);\r\n        });\r\n      });\r\n  }, [etat]);\r\n  return (\r\n    <div>\r\n      <Button\r\n        color=\"primary\"\r\n        className={classes.btnSpacing}\r\n        onClick={() => {\r\n          setEtat(\"en Attente\");\r\n        }}\r\n      >\r\n        en Attente\r\n      </Button>\r\n      <Button\r\n        color=\"primary\"\r\n        className={classes.btnSpacing}\r\n        onClick={() => {\r\n          setEtat(\"Confirmé\");\r\n        }}\r\n      >\r\n        Confirmés\r\n      </Button>\r\n      <Button\r\n        color=\"primary\"\r\n        className={classes.btnSpacing}\r\n        onClick={() => {\r\n          setEtat(\"Annulé\");\r\n        }}\r\n      >\r\n        Annulés\r\n      </Button>\r\n      <Button\r\n        color=\"primary\"\r\n        className={classes.btnSpacing}\r\n        onClick={() => {\r\n          setEtat(\"Livré\");\r\n        }}\r\n      >\r\n        Livrés\r\n      </Button>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"left\">Client</TableCell>\r\n              <TableCell align=\"left\">Liste des Articles</TableCell>\r\n              <TableCell align=\"left\">PrixTotal</TableCell>\r\n              <TableCell align=\"left\">Adresse</TableCell>\r\n              <TableCell align=\"left\">Date</TableCell>\r\n              <TableCell align=\"left\">Etat</TableCell>\r\n              <TableCell align=\"center\">Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {data.map((d) => (\r\n              <TableRow>\r\n                <TableCell align=\"left\">\r\n                  <div>ID: {d.client._id}</div>\r\n                  <div>Nom: {d.client.nom}</div>\r\n                  <div>Prénom: {d.client.prenom}</div>\r\n                  <div>E-mail: {d.client.email}</div>\r\n                  <div>Téléphone: {d.client.telephone}</div>\r\n                </TableCell>\r\n                <TableCell align=\"left\">\r\n                  {d.liste.map((l) => (\r\n                    <div>\r\n                      {l.nom} x{l.quantite} : {l.prix} DT\r\n                    </div>\r\n                  ))}\r\n                </TableCell>\r\n                <TableCell align=\"left\">{d.prix} DT</TableCell>\r\n                <TableCell align=\"left\">{d.adresse}</TableCell>\r\n                <TableCell align=\"left\">{d.cree}</TableCell>\r\n                <TableCell align=\"left\">{d.etat}</TableCell>\r\n                {Buttons(d)}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}