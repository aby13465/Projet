{"ast":null,"code":"import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{Paper,Table,Dialog,DialogTitle,DialogActions,DialogContent,TableCell,TableContainer,TableHead,TableRow,TableBody,TextField,Button}from\"@material-ui/core\";import axios from\"axios\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},btnSpacing:{margin:theme.spacing(0,1,1,0)}};});export default function Categories(){var classes=useStyles();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),nom=_useState2[0],setNom=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),rows=_useState4[0],setRows=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var refreshRows=function refreshRows(){axios.post(\"http://localhost:4000/categories/recherche\",{}).then(function(resultat){setRows(resultat.data);});};useEffect(function(){refreshRows();},[]);return React.createElement(\"div\",null,React.createElement(Dialog,{open:open,fullWidth:true,onClose:function onClose(){setOpen(false);},\"aria-labelledby\":\"form-dialog-title\"},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Ajouter Cat\\xE9gorie\"),React.createElement(DialogContent,null,React.createElement(TextField,{value:nom,onChange:function onChange(event){setNom(event.target.value);},variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"nom\",label:\"Nom\",name:\"nom\",autoComplete:\"nom\"})),React.createElement(DialogActions,null,React.createElement(Button,{color:\"primary\",onClick:function onClick(){axios.post(\"http://localhost:4000/categories/ajouter\",{nom:nom},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setRows([]);setOpen(false);refreshRows();});}},\"Confirmer\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){setOpen(false);}},\"Annuler\"))),React.createElement(Button,{color:\"primary\",className:classes.btnSpacing,onClick:function onClick(){setOpen(true);}},\"Ajouter Cat\\xE9gorie\"),React.createElement(TableContainer,{component:Paper},React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"ID\"),React.createElement(TableCell,null,\"Nom\"),React.createElement(TableCell,{align:\"center\"},\"Actions\"))),React.createElement(TableBody,null,rows.map(function(row){return React.createElement(TableRow,null,React.createElement(TableCell,null,row._id),React.createElement(TableCell,null,row.nom),React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/categories/supprimer\",{_id:row._id},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setRows([]);refreshRows();});}},\"Supprimer\")));})))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Categories/Categories.js"],"names":["React","useEffect","useState","makeStyles","Paper","Table","Dialog","DialogTitle","DialogActions","DialogContent","TableCell","TableContainer","TableHead","TableRow","TableBody","TextField","Button","axios","useStyles","theme","table","minWidth","btnSpacing","margin","spacing","Categories","classes","nom","setNom","rows","setRows","open","setOpen","refreshRows","post","then","resultat","data","event","target","value","headers","Authorization","localStorage","getItem","map","row","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  Paper,\r\n  Table,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogActions,\r\n  DialogContent,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TableBody,\r\n  TextField,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  btnSpacing: {\r\n    margin: theme.spacing(0, 1, 1, 0),\r\n  },\r\n}));\r\n\r\nexport default function Categories() {\r\n  const classes = useStyles();\r\n  const [nom, setNom] = useState(\"\");\r\n  const [rows, setRows] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const refreshRows = () => {\r\n    axios\r\n      .post(\"http://localhost:4000/categories/recherche\", {})\r\n      .then((resultat) => {\r\n        setRows(resultat.data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshRows();\r\n  }, []);\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        fullWidth\r\n        onClose={() => {\r\n          setOpen(false);\r\n        }}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Ajouter Catégorie</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            value={nom}\r\n            onChange={(event) => {\r\n              setNom(event.target.value);\r\n            }}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"nom\"\r\n            label=\"Nom\"\r\n            name=\"nom\"\r\n            autoComplete=\"nom\"\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              axios\r\n                .post(\r\n                  \"http://localhost:4000/categories/ajouter\",\r\n                  {\r\n                    nom: nom,\r\n                  },\r\n                  {\r\n                    headers: {\r\n                      Authorization:\r\n                        \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                    },\r\n                  }\r\n                )\r\n                .then(() => {\r\n                  setRows([]);\r\n                  setOpen(false);\r\n                  refreshRows();\r\n                });\r\n            }}\r\n          >\r\n            Confirmer\r\n          </Button>\r\n          <Button\r\n            color=\"secondary\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Annuler\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <Button\r\n        color=\"primary\"\r\n        className={classes.btnSpacing}\r\n        onClick={() => {\r\n          setOpen(true);\r\n        }}\r\n      >\r\n        Ajouter Catégorie\r\n      </Button>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>ID</TableCell>\r\n              <TableCell>Nom</TableCell>\r\n              <TableCell align=\"center\">Actions</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow>\r\n                <TableCell>{row._id}</TableCell>\r\n                <TableCell>{row.nom}</TableCell>\r\n                <TableCell align=\"center\">\r\n                  <Button\r\n                    color=\"secondary\"\r\n                    onClick={() => {\r\n                      axios\r\n                        .post(\r\n                          \"http://localhost:4000/categories/supprimer\",\r\n                          {\r\n                            _id: row._id,\r\n                          },\r\n                          {\r\n                            headers: {\r\n                              Authorization:\r\n                                \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                            },\r\n                          }\r\n                        )\r\n                        .then(() => {\r\n                          setRows([]);\r\n                          refreshRows();\r\n                        });\r\n                    }}\r\n                  >\r\n                    Supprimer\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}