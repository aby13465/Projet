(this.webpackJsonpprojetpfe=this.webpackJsonpprojetpfe||[]).push([[0],{114:function(e,t,a){e.exports=a(144)},119:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),c=a.n(o),i=(a(119),a(9)),l=a(90),m=a(202),s=a(21),u=a(54),p=a(210),d=a(10),f=a(55),g=a.n(f),E=a(68),h=a(3),b=a(183),v=a(187),j=a(195),w=a(196),O=a(147),S=a(197),x=a(188),k=a(189),C=a(190),I=a(192),N=a(191),y=a(193),q=a(194),T=a(198);function _(e){var t=localStorage.getItem("jwt-cookie"),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],m=Object(n.useRef)(null),s=function(e){m.current&&m.current.contains(e.target)||l(!1)};function u(e){"Tab"===e.key&&(e.preventDefault(),l(!1))}var p=Object(n.useRef)(c);Object(n.useEffect)((function(){!0===p.current&&!1===c&&m.current.focus(),p.current=c}),[c]);var f=r.a.createElement(b.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:u},r.a.createElement(v.a,{onClick:function(){window.location="/Historique",l(!1)},color:"inherit"},"Historique"),r.a.createElement(v.a,{onClick:Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location="/Compte",l(!1);case 2:case"end":return e.stop()}}),e)}))),color:"inherit"},"Compte"),r.a.createElement(v.a,{onClick:Object(E.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("jwt-cookie");case 2:window.location="/Connexion";case 3:case"end":return e.stop()}}),e)}))),color:"inherit"},"D\xe9connexion")),_=r.a.createElement(b.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:u},r.a.createElement(v.a,{onClick:function(){window.location="/Inscription",l(!1)},color:"inherit"},"Inscription"),r.a.createElement(v.a,{onClick:function(){window.location="/Connexion",l(!1)},color:"inherit"},"Connexion"));return r.a.createElement("div",{className:e.classes.root},r.a.createElement(x.a,{position:"static",className:Object(h.a)(e.classes.appBar,Object(d.a)({},e.classes.appBarShift,e.open))},r.a.createElement(k.a,null,r.a.createElement(C.a,{color:"inherit","aria-label":"open drawer",onClick:e.handleDrawerOpen,edge:"start",className:Object(h.a)(e.classes.menuButton,c&&e.classes.hide)},r.a.createElement(N.a,null)),r.a.createElement(I.a,{onClick:function(){window.location="/"},color:"inherit"},"BNB Booking"),r.a.createElement("div",{className:e.classes.title}),r.a.createElement(I.a,{onClick:function(){window.location="/"},color:"inherit"},r.a.createElement(y.a,null)),r.a.createElement(I.a,{ref:m,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){l((function(e){return!e}))},color:"inherit"},r.a.createElement(q.a,null)),r.a.createElement(j.a,{open:c,anchorEl:m.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var a=e.TransitionProps,n=e.placement;return r.a.createElement(w.a,Object.assign({},a,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),r.a.createElement(O.a,null,r.a.createElement(S.a,{onClickAway:s},t?f:_)))})),r.a.createElement(I.a,{onClick:function(){window.location="/Panier"},color:"inherit"},r.a.createElement(T.a,null)))))}var D=a(218),B=a(145),W=a(199),P=a(93),A=a.n(P),J=a(94),V=a.n(J),z=a(146),H=a(200),F=a(201),R=a(69),L=a.n(R),G=a(70),M=a.n(G);function K(e){return r.a.createElement(D.a,{className:e.classes.drawer,variant:"persistent",anchor:"left",open:e.open,classes:{paper:e.classes.drawerPaper}},r.a.createElement("div",{className:e.classes.drawerHeader},r.a.createElement(C.a,{onClick:e.handleDrawerClose},"ltr"===e.theme.direction?r.a.createElement(A.a,null):r.a.createElement(V.a,null))),r.a.createElement(W.a,null),r.a.createElement(B.a,null,["Inbox","Starred","Send email","Drafts"].map((function(e,t){return r.a.createElement(z.a,{button:!0,key:e},r.a.createElement(H.a,null,t%2===0?r.a.createElement(L.a,null):r.a.createElement(M.a,null)),r.a.createElement(F.a,{primary:e}))}))),r.a.createElement(W.a,null),r.a.createElement(B.a,null,["All mail","Trash","Spam"].map((function(e,t){return r.a.createElement(z.a,{button:!0,key:e},r.a.createElement(H.a,null,t%2===0?r.a.createElement(L.a,null):r.a.createElement(M.a,null)),r.a.createElement(F.a,{primary:e}))}))))}var Q=a(36);function U(){return r.a.createElement("div",null,"Historique")}function X(){return r.a.createElement("div",null,"Page Compte")}var Y=a(17),Z=a.n(Y),$=a(203),ee=a(204),te=a(205),ae=a(219),ne=a(206),re=a(214),oe=a(207),ce=a(212),ie=a(52),le=a(208),me=Object(m.a)((function(e){return{formControl:{margin:e.spacing(3)},Box:{margin:e.spacing(1),width:200},Text:{margin:e.spacing(0,1),textAlign:"center"}}}));function se(){var e=me(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1],l=function(e){Z.a.post("http://localhost:4000/articles/recherche",{prix:e}).then((function(e){c(e.data)}))};return Object(n.useEffect)((function(){l("Tout")}),[]),r.a.createElement($.a,{container:!0,direction:"row"},r.a.createElement($.a,{item:!0,driection:"column",className:e.formControl},r.a.createElement(ee.a,null,r.a.createElement(te.a,null,"Prix"),r.a.createElement(ae.a,{defaultValue:"Tout",onChange:function(e){l(e.target.value)}},r.a.createElement(ne.a,{value:"Tout",control:r.a.createElement(re.a,null),label:"Tout"}),r.a.createElement(ne.a,{value:"de 0 \xe0 25",control:r.a.createElement(re.a,null),label:"de 0 \xe0 25"}),r.a.createElement(ne.a,{value:"de 25 \xe0 50",control:r.a.createElement(re.a,null),label:"de 25 \xe0 50"}),r.a.createElement(ne.a,{value:"de 50 \xe0 100",control:r.a.createElement(re.a,null),label:"de 50 \xe0 100"}),r.a.createElement(ne.a,{value:"plus que 100",control:r.a.createElement(re.a,null),label:"plus que 100"})))),r.a.createElement($.a,{item:!0,className:e.formControl,xs:!0},r.a.createElement(oe.a,{cols:!1},o.map((function(t){return r.a.createElement(ce.a,{borderColor:"grey.500",borderRadius:"2%",border:1,className:e.Box},r.a.createElement(ie.a,{className:e.Text,noWrap:"true"},r.a.createElement(le.a,{href:"/Article/"+t._id}," ",t.nom," ")),r.a.createElement(ie.a,{color:"secondary",variant:"h6",className:e.Text,noWrap:"true"},t.prix," DT"))})))))}var ue=a(220),pe=a(213),de=a(95),fe=a.n(de),ge=a(209),Ee=a(217),he=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function be(e){var t=he(),a=Object(n.useState)(""),o=Object(i.a)(a,2),c=o[0],l=o[1],m=Object(n.useState)(""),s=Object(i.a)(m,2),u=s[0],d=s[1],f=Object(n.useState)(""),g=Object(i.a)(f,2),E=g[0],h=g[1],b=Object(n.useState)(""),v=Object(i.a)(b,2),j=v[0],w=v[1],O=Object(n.useState)(""),S=Object(i.a)(O,2),x=S[0],k=S[1];return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{className:t.paper},r.a.createElement(ue.a,{className:t.avatar},r.a.createElement(fe.a,null)),r.a.createElement(ie.a,{component:"h1",variant:"h5"},"Inscription"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===u||""===E||""===j||""===x?(l((function(){return r.a.createElement(Ee.a,{severity:"error"},"Veuillez remplir tous vos coordonnees")})),setTimeout((function(){l("")}),5e3)):(Z.a.post("http://localhost:4000/clients/ajouter",{nom:u,prenom:E,email:j,passe:x}),window.location="/Connexion")},className:t.form,noValidate:!0},c,r.a.createElement(pe.a,{margin:"normal",autoComplete:"nom",name:"nom",id:"nom",variant:"outlined",value:u,onChange:function(e){return d(e.target.value)},required:!0,fullWidth:!0,label:"Nom",autoFocus:!0}),r.a.createElement(pe.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:E,onChange:function(e){return h(e.target.value)},id:"prenom",label:"Pr\xe9nom",name:"prenom",autoComplete:"prenom"}),r.a.createElement(pe.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:j,onChange:function(e){return w(e.target.value)},id:"email",label:"Email",name:"email",autoComplete:"email"}),r.a.createElement(pe.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:x,onChange:function(e){return k(e.target.value)},name:"passe",label:"Mot de passe",type:"password",id:"passe",autoComplete:"passe"}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Inscription"))))}var ve=a(211),je=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function we(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(i.a)(c,2),m=l[0],s=l[1],u=Object(n.useState)(""),d=Object(i.a)(u,2),f=d[0],g=d[1],E=je();return r.a.createElement(ge.a,{component:"main",maxWidth:"xs"},r.a.createElement(p.a,null),r.a.createElement("div",{className:E.paper},r.a.createElement(ue.a,{className:E.avatar},r.a.createElement(ve.a,null)),r.a.createElement(ie.a,{component:"h1",variant:"h5"},"Connexion"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===a||""===m?(g((function(){return r.a.createElement(Ee.a,{severity:"error"},"Veuillez remplir tous vos coordonnees")})),setTimeout((function(){g("")}),5e3)):Z.a.post("http://localhost:4000/clients/authentification",{email:a,passe:m}).then((function(e){"Email ou Mot de passe non valide"!==e.data?localStorage.setItem("jwt-cookie",e.data):(g((function(){return r.a.createElement(Ee.a,{severity:"error"},e.data)})),setTimeout((function(){g("")}),5e3))})).then((function(){localStorage.getItem("cart-cookie")&&localStorage.getItem("jwt-cookie")&&Z.a.post("http://localhost:4000/clients/majpanier",JSON.parse(localStorage.getItem("cart-cookie")),{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}})})).then((function(){localStorage.getItem("jwt-cookie")&&(localStorage.getItem("jwt-cookie")&&localStorage.removeItem("cart-cookie"),window.location="/")}))},className:E.form,noValidate:!0},f,r.a.createElement(pe.a,{value:a,onChange:function(e){return o(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),r.a.createElement(pe.a,{value:m,onChange:function(e){return s(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"passe",label:"Mot de passe",type:"password",id:"passe",autoComplete:"passe"}),r.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:E.submit},"Connexion"))))}var Oe=a(13),Se=Object(m.a)((function(e){return{form:{padding:e.spacing(3)},paper:{padding:e.spacing(2),margin:"auto"},actions:{display:"flex"},expand:{marginLeft:"auto"}}}));function xe(){var e=Se(),t=Object(n.useState)([]),a=Object(i.a)(t,2),o=a[0],c=a[1];Object(n.useEffect)((function(){if(localStorage.getItem("jwt-cookie"))Z.a.post("http://localhost:4000/clients/getpanier",{},{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}}).then((function(e){e.data.forEach((function(e){Z.a.get("http://localhost:4000/articles/recherche/"+e._id).then((function(t){return c((function(a){return[].concat(Object(Oe.a)(a),[{_id:e._id,nom:t.data.nom,quantite:e.quantite,prix:t.data.prix}])}))}))}))}));else if(localStorage.getItem("cart-cookie")){JSON.parse(localStorage.getItem("cart-cookie")).forEach((function(e){Z.a.get("http://localhost:4000/articles/recherche/"+e._id).then((function(t){return c((function(a){return[].concat(Object(Oe.a)(a),[{_id:e._id,nom:t.data.nom,quantite:e.quantite,prix:t.data.prix}])}))}))}))}}),[]);return r.a.createElement(ge.a,{component:"main"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),localStorage.getItem("jwt-cookie")||(window.location="/Connexion")},noValidate:!0,className:e.form},0===o.length?r.a.createElement(O.a,{className:e.paper},r.a.createElement(ie.a,null,"Panier Vide")):r.a.createElement($.a,{container:!0,spacing:1,direction:"column"},o.map((function(t){return r.a.createElement($.a,{item:!0},r.a.createElement(O.a,{className:e.paper},r.a.createElement(ie.a,null,t.nom),r.a.createElement(ie.a,null,t.quantite),r.a.createElement(ie.a,null,t.prix,"DT"),r.a.createElement(I.a,{onClick:function(){return function(e){if(localStorage.getItem("jwt-cookie")&&Z.a.post("http://localhost:4000/clients/supprimerpanier",{_id:e},{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}}).then((function(){return c(o.filter((function(t){return t._id!==e})))})),localStorage.getItem("cart-cookie")){var t=JSON.parse(localStorage.getItem("cart-cookie"));0===(t=t.filter((function(t){return e!==t._id}))).length?localStorage.removeItem("cart-cookie"):localStorage.setItem("cart-cookie",JSON.stringify(t)),c(o.filter((function(t){return t._id!==e})))}}(t._id)},className:e.expand},"Supprimer")))})),r.a.createElement($.a,{className:e.actions,item:!0},r.a.createElement(I.a,{variant:"contained",color:"primary",type:"submit",className:e.expand},"Commander")))))}var ke=a(215),Ce=Object(m.a)((function(e){return{container:{maxWidth:350},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column"},spacing:{marginTop:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Ie(){var e=Ce(),t=Object(n.useState)(""),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),m=Object(i.a)(l,2),s=m[0],u=m[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),f=d[0],g=d[1],E=Object(n.useState)(""),h=Object(i.a)(E,2),b=h[0],v=h[1];return Object(n.useEffect)((function(){Z.a.get("http://localhost:4000/articles/recherche/"+window.location.pathname.substring(9,window.location.pathname.length)).then((function(e){c(e.data);for(var t=function(e){u((function(t){return[].concat(Object(Oe.a)(t),[{title:e.toString()}])}))},a=1;a<=e.data.quantite;a++)t(a)}))}),[]),r.a.createElement($.a,{container:!0,className:e.container},r.a.createElement("div",{className:e.paper},r.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===b)g((function(){return r.a.createElement(Ee.a,{severity:"error"},"Veuillez choisir la quantit\xe9")})),setTimeout((function(){g("")}),5e3);else{if(localStorage.getItem("jwt-cookie")){var t=[];t.push({_id:o._id,quantite:parseInt(b)}),Z.a.post("http://localhost:4000/clients/majpanier",t,{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}})}else if(localStorage.getItem("cart-cookie")){for(var a=JSON.parse(localStorage.getItem("cart-cookie")),n=0,c=!1;n!==a.length&&!1===c;)a[n]._id===o._id?(a[n].quantite+=parseInt(b),c=!0):n++;n===a.length&&a.push({_id:o._id,quantite:parseInt(b)}),localStorage.setItem("cart-cookie",JSON.stringify(a))}else{var i=[];i.push({_id:o._id,quantite:parseInt(b)}),localStorage.setItem("cart-cookie",JSON.stringify(i))}window.location="/Panier"}},className:e.form,noValidate:!0},r.a.createElement(ie.a,{variant:"h5",className:e.spacing},o.nom),r.a.createElement(ie.a,{variant:"h4",color:"secondary",className:e.spacing},o.prix," DT"),f,r.a.createElement(ke.a,{className:e.spacing,id:"combo-box-demo",onInputChange:function(e,t){return v(t)},options:s,getOptionLabel:function(e){return e.title},renderInput:function(e){return r.a.createElement(pe.a,Object.assign({},e,{label:"quantit\xe9",variant:"outlined"}))}}),r.a.createElement(I.a,{type:"submit",variant:"contained",color:"primary",className:e.submit,fullWidth:!0},"Ajouter au panier"))))}var Ne=a(2);function ye(e){var t=e.component,a=Object(Ne.a)(e,["component"]);return r.a.createElement(Q.b,Object.assign({},a,{render:function(e){return localStorage.getItem("jwt-cookie")?r.a.createElement(t,e):r.a.createElement(Q.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function qe(e){var t=e.component,a=Object(Ne.a)(e,["component"]);return r.a.createElement(Q.b,Object.assign({},a,{render:function(e){return localStorage.getItem("jwt-cookie")?r.a.createElement(Q.a,{to:{pathname:"/",state:{from:e.location}}}):r.a.createElement(t,e)}}))}a(143);function Te(){return r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{class:"notfound"},r.a.createElement("div",{class:"notfound-404"}),r.a.createElement("h1",null,"404"),r.a.createElement("h2",null,"Oops! Page Not Be Found"),r.a.createElement("p",null,"Sorry but the page you are looking for does not exist, have been removed. name changed or is temporarily unavailable"),r.a.createElement("a",{href:"/"},"Back to homepage")))}function _e(e){return r.a.createElement("main",{className:Object(h.a)(e.classes.content,Object(d.a)({},e.classes.contentShift,e.open))},r.a.createElement(Q.d,null,r.a.createElement(Q.b,{exact:!0,path:"/",component:se}),r.a.createElement(ye,{path:"/Historique",component:U}),r.a.createElement(ye,{path:"/Compte",component:X}),r.a.createElement(qe,{path:"/Inscription",component:be}),r.a.createElement(qe,{path:"/Connexion",component:we}),r.a.createElement(Q.b,{path:"/Panier",component:xe}),r.a.createElement(Q.b,{path:"/Article/:id",component:Ie}),r.a.createElement(Q.b,{path:"*",component:Te})))}var De=Object(m.a)((function(e){return{root:{flexGrow:1},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(l.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:240},title:{flexGrow:1},paper:{marginRight:e.spacing(2)}}}));c.a.render(r.a.createElement((function(){var e=De(),t=Object(s.a)(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1];return r.a.createElement("div",{className:e.root},r.a.createElement(p.a,null),r.a.createElement(u.a,null,r.a.createElement(_,{classes:e,theme:t,open:c,handleDrawerOpen:function(){l(!0)}}),r.a.createElement(K,{classes:e,theme:t,open:c,handleDrawerClose:function(){l(!1)}}),r.a.createElement(_e,{classes:e,theme:t,open:c})))}),null),document.getElementById("root"))}},[[114,1,2]]]);
//# sourceMappingURL=main.26fccdde.chunk.js.map