(this.webpackJsonpprojetpfe=this.webpackJsonpprojetpfe||[]).push([[0],{106:function(e,t,a){e.exports=a(137)},111:function(e,t,a){},136:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),c=a.n(r),i=(a(111),a(89)),l=a(192),m=a(51),u=a(32),s=a(59),p=a(2);function f(e){var t=e.component,a=Object(p.a)(e,["component"]);return o.a.createElement(u.b,Object.assign({},a,{render:function(e){return localStorage.getItem("jwt-cookie")?o.a.createElement(t,e):o.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}})}}))}function d(e){var t=e.component,a=Object(p.a)(e,["component"]);return o.a.createElement(u.b,Object.assign({},a,{render:function(e){return localStorage.getItem("jwt-cookie")?o.a.createElement(u.a,{to:{pathname:"/",state:{from:e.location}}}):o.a.createElement(t,e)}}))}var g=a(49),E=a.n(g),h=a(65),b=a(9),v=a(170),j=a(199),w=a(200),O=a(179),S=a(198),x=a(138),C=a(180),k=a(174),I=a(175),y=a(90),N=a(176),q=a(177),T=a(178),D=a(181),W=Object(v.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{marginRight:e.spacing(2)}}}));function _(e){var t=W(),a=localStorage.getItem("jwt-cookie"),n=o.a.useState(!1),r=Object(b.a)(n,2),c=r[0],i=r[1],l=o.a.useRef(null),m=function(e){l.current&&l.current.contains(e.target)||i(!1)};function u(e){"Tab"===e.key&&(e.preventDefault(),i(!1))}var s=o.a.useRef(c);o.a.useEffect((function(){!0===s.current&&!1===c&&l.current.focus(),s.current=c}),[c]);var p=o.a.createElement(j.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:u},o.a.createElement(w.a,{onClick:function(){window.location="/Historique",i(!1)},color:"inherit"},"Historique"),o.a.createElement(w.a,{onClick:Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location="/Compte",i(!1);case 2:case"end":return e.stop()}}),e)}))),color:"inherit"},"Compte"),o.a.createElement(w.a,{onClick:Object(h.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,localStorage.removeItem("jwt-cookie");case 2:window.location="/Connexion";case 3:case"end":return e.stop()}}),e)}))),color:"inherit"},"D\xe9connexion")),f=o.a.createElement(j.a,{autoFocusItem:c,id:"menu-list-grow",onKeyDown:u},o.a.createElement(w.a,{onClick:function(){window.location="/Inscription",i(!1)},color:"inherit"},"Inscription"),o.a.createElement(w.a,{onClick:function(){window.location="/Connexion",i(!1)},color:"inherit"},"Connexion"));return o.a.createElement("div",{className:t.root},o.a.createElement(k.a,{position:"static",color:"primary"},o.a.createElement(I.a,null,o.a.createElement(y.a,{className:t.title,color:"inherit"},"Logo"),o.a.createElement(N.a,{onClick:function(){window.location="/"},color:"inherit"},o.a.createElement(q.a,null)),o.a.createElement("div",null,o.a.createElement(N.a,{ref:l,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){i((function(e){return!e}))},color:"inherit"},o.a.createElement(T.a,null)),o.a.createElement(O.a,{open:c,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,n=e.placement;return o.a.createElement(S.a,Object.assign({},t,{style:{transformOrigin:"bottom"===n?"center top":"center bottom"}}),o.a.createElement(x.a,null,o.a.createElement(C.a,{onClickAway:m},a?p:f)))}))),o.a.createElement(N.a,{onClick:function(){window.location="/Panier"},color:"inherit"},o.a.createElement(D.a,null)))))}function P(){return o.a.createElement("div",null,"Historique")}function A(){return o.a.createElement("div",null,"Page Compte")}var V=a(19),z=a.n(V),B=a(182),J=a(183),F=a(184),R=a(201),H=a(185),M=a(195),G=a(187),K=a(194),L=a(188),Q=Object(v.a)((function(e){return{formControl:{margin:e.spacing(3)},Box:{margin:e.spacing(1),width:200},Text:{margin:e.spacing(0,1),textAlign:"center"}}}));function U(){var e=Q(),t=Object(n.useState)([]),a=Object(b.a)(t,2),r=a[0],c=a[1],i=function(e){z.a.post("http://localhost:4000/articles/recherche",{prix:e}).then((function(e){c(e.data)}))};return Object(n.useEffect)((function(){i("Tout")}),[]),o.a.createElement(B.a,{container:!0,direction:"row"},o.a.createElement(B.a,{item:!0,driection:"column",className:e.formControl},o.a.createElement(J.a,null,o.a.createElement(F.a,null,"Prix"),o.a.createElement(R.a,{defaultValue:"Tout",onChange:function(e){i(e.target.value)}},o.a.createElement(H.a,{value:"Tout",control:o.a.createElement(M.a,null),label:"Tout"}),o.a.createElement(H.a,{value:"de 0 \xe0 25",control:o.a.createElement(M.a,null),label:"de 0 \xe0 25"}),o.a.createElement(H.a,{value:"de 25 \xe0 50",control:o.a.createElement(M.a,null),label:"de 25 \xe0 50"}),o.a.createElement(H.a,{value:"de 50 \xe0 100",control:o.a.createElement(M.a,null),label:"de 50 \xe0 100"}),o.a.createElement(H.a,{value:"plus que 100",control:o.a.createElement(M.a,null),label:"plus que 100"})))),o.a.createElement(B.a,{item:!0,className:e.formControl,xs:!0},o.a.createElement(G.a,{cols:!1},r.map((function(t){return o.a.createElement(K.a,{borderColor:"grey.500",borderRadius:"2%",border:1,className:e.Box},o.a.createElement(y.a,{className:e.Text,noWrap:"true"},o.a.createElement(L.a,{href:"/Article/"+t._id}," ",t.nom," ")),o.a.createElement(y.a,{color:"secondary",variant:"h6",className:e.Text,noWrap:"true"},t.prix," DT"))})))))}var X=a(202),Y=a(190),Z=a(193),$=a(88),ee=a.n($),te=a(189),ae=a(197),ne=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function oe(e){var t=ne(),a=Object(n.useState)(""),r=Object(b.a)(a,2),c=r[0],i=r[1],l=Object(n.useState)(""),m=Object(b.a)(l,2),u=m[0],s=m[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),d=f[0],g=f[1],E=Object(n.useState)(""),h=Object(b.a)(E,2),v=h[0],j=h[1],w=Object(n.useState)(""),O=Object(b.a)(w,2),S=O[0],x=O[1];return o.a.createElement(te.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{className:t.paper},o.a.createElement(X.a,{className:t.avatar},o.a.createElement(ee.a,null)),o.a.createElement(y.a,{component:"h1",variant:"h5"},"Inscription"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===u||""===d||""===v||""===S?(i((function(){return o.a.createElement(ae.a,{severity:"error"},"Veuillez remplir tous vos coordonnees")})),setTimeout((function(){i("")}),5e3)):(z.a.post("http://localhost:4000/clients/ajouter",{nom:u,prenom:d,email:v,passe:S}),window.location="/Connexion")},className:t.form,noValidate:!0},c,o.a.createElement(Z.a,{margin:"normal",autoComplete:"nom",name:"nom",id:"nom",variant:"outlined",value:u,onChange:function(e){return s(e.target.value)},required:!0,fullWidth:!0,label:"Nom",autoFocus:!0}),o.a.createElement(Z.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:d,onChange:function(e){return g(e.target.value)},id:"prenom",label:"Pr\xe9nom",name:"prenom",autoComplete:"prenom"}),o.a.createElement(Z.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:v,onChange:function(e){return j(e.target.value)},id:"email",label:"Email",name:"email",autoComplete:"email"}),o.a.createElement(Z.a,{margin:"normal",variant:"outlined",required:!0,fullWidth:!0,value:S,onChange:function(e){return x(e.target.value)},name:"passe",label:"Mot de passe",type:"password",id:"passe",autoComplete:"passe"}),o.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Inscription"))))}var re=a(191),ce=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ie(){var e=Object(n.useState)(""),t=Object(b.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),i=Object(b.a)(c,2),l=i[0],m=i[1],u=Object(n.useState)(""),s=Object(b.a)(u,2),p=s[0],f=s[1],d=ce();return o.a.createElement(te.a,{component:"main",maxWidth:"xs"},o.a.createElement(Y.a,null),o.a.createElement("div",{className:d.paper},o.a.createElement(X.a,{className:d.avatar},o.a.createElement(re.a,null)),o.a.createElement(y.a,{component:"h1",variant:"h5"},"Connexion"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===a||""===l?(f((function(){return o.a.createElement(ae.a,{severity:"error"},"Veuillez remplir tous vos coordonnees")})),setTimeout((function(){f("")}),5e3)):z.a.post("http://localhost:4000/clients/authentification",{email:a,passe:l}).then((function(e){"Email ou Mot de passe non valide"!==e.data?localStorage.setItem("jwt-cookie",e.data):(f((function(){return o.a.createElement(ae.a,{severity:"error"},e.data)})),setTimeout((function(){f("")}),5e3))})).then((function(){localStorage.getItem("cart-cookie")&&localStorage.getItem("jwt-cookie")&&z.a.post("http://localhost:4000/clients/majpanier",JSON.parse(localStorage.getItem("cart-cookie")),{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}})})).then((function(){localStorage.getItem("jwt-cookie")&&(localStorage.getItem("jwt-cookie")&&localStorage.removeItem("cart-cookie"),window.location="/")}))},className:d.form,noValidate:!0},p,o.a.createElement(Z.a,{value:a,onChange:function(e){return r(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0}),o.a.createElement(Z.a,{value:l,onChange:function(e){return m(e.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"passe",label:"Mot de passe",type:"password",id:"passe",autoComplete:"passe"}),o.a.createElement(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:d.submit},"Connexion"))))}var le=a(13),me=Object(v.a)((function(e){return{form:{padding:e.spacing(3)}}}));function ue(){var e=me(),t=Object(n.useState)([]),a=Object(b.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){z.a.post("http://localhost:4000/clients/getpanier",{},{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}}).then((function(e){e.data.forEach((function(e){z.a.get("http://localhost:4000/articles/recherche/"+e._id).then((function(t){return c((function(a){return[].concat(Object(le.a)(a),[{nom:t.data.nom,quantite:e.quantite,prix:t.data.prix}])}))}))}))}))}),[]);return o.a.createElement(te.a,{component:"main"},o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),localStorage.getItem("jwt-cookie")||(window.location="/Connexion")},noValidate:!0,className:e.form},o.a.createElement(B.a,{container:!0,spacing:1,direction:"column"},r.map((function(e){return o.a.createElement(B.a,{item:!0,xs:12,spacing:3},o.a.createElement(y.a,null,e.nom),o.a.createElement(y.a,null,e.quantite),o.a.createElement(y.a,null,e.prix,"DT"))})),o.a.createElement(B.a,{item:!0,spacing:3},o.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit"},"Commander")))))}var se=a(196),pe=Object(v.a)((function(e){return{container:{maxWidth:350},paper:{margin:e.spacing(2),display:"flex",flexDirection:"column"},spacing:{marginTop:e.spacing(1)},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function fe(){var e=pe(),t=Object(n.useState)(""),a=Object(b.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)([]),l=Object(b.a)(i,2),m=l[0],u=l[1],s=Object(n.useState)(""),p=Object(b.a)(s,2),f=p[0],d=p[1],g=Object(n.useState)(""),E=Object(b.a)(g,2),h=E[0],v=E[1];return Object(n.useEffect)((function(){z.a.get("http://localhost:4000/articles/recherche/"+window.location.pathname.substring(9,window.location.pathname.length)).then((function(e){c(e.data);for(var t=function(e){u((function(t){return[].concat(Object(le.a)(t),[{title:e.toString()}])}))},a=1;a<=e.data.quantite;a++)t(a)}))}),[]),o.a.createElement(B.a,{container:!0,className:e.container},o.a.createElement("div",{className:e.paper},o.a.createElement("form",{onSubmit:function(e){if(e.preventDefault(),""===h)d((function(){return o.a.createElement(ae.a,{severity:"error"},"Veuillez choisir la quantit\xe9")})),setTimeout((function(){d("")}),5e3);else{if(localStorage.getItem("jwt-cookie")){var t=[];t.push({_id:r._id,quantite:parseInt(h)}),z.a.post("http://localhost:4000/clients/majpanier",t,{headers:{Authorization:"bearer "+localStorage.getItem("jwt-cookie")}})}else if(localStorage.getItem("cart-cookie")){for(var a=JSON.parse(localStorage.getItem("cart-cookie")),n=0,c=!1;n!==a.length&&!1===c;)a[n]._id===r._id?(a[n].quantite+=parseInt(h),c=!0):n++;n===a.length&&a.push({_id:r._id,quantite:parseInt(h)}),localStorage.setItem("cart-cookie",JSON.stringify(a))}else{var i=[];i.push({_id:r._id,quantite:parseInt(h)}),localStorage.setItem("cart-cookie",JSON.stringify(i))}window.location="/Panier"}},className:e.form,noValidate:!0},o.a.createElement(y.a,{variant:"h5",className:e.spacing},r.nom),o.a.createElement(y.a,{variant:"h4",color:"secondary",className:e.spacing},r.prix," DT"),f,o.a.createElement(se.a,{className:e.spacing,id:"combo-box-demo",onInputChange:function(e,t){return v(t)},options:m,getOptionLabel:function(e){return e.title},renderInput:function(e){return o.a.createElement(Z.a,Object.assign({},e,{label:"quantit\xe9",variant:"outlined"}))}}),o.a.createElement(N.a,{type:"submit",variant:"contained",color:"primary",className:e.submit,fullWidth:!0},"Ajouter au panier"))))}a(136);function de(){return o.a.createElement("div",{id:"notfound"},o.a.createElement("div",{class:"notfound"},o.a.createElement("div",{class:"notfound-404"}),o.a.createElement("h1",null,"404"),o.a.createElement("h2",null,"Oops! Page Not Be Found"),o.a.createElement("p",null,"Sorry but the page you are looking for does not exist, have been removed. name changed or is temporarily unavailable"),o.a.createElement("a",{href:"/"},"Back to homepage")))}var ge=Object(i.a)({palette:{primary:{main:s.a[500]}}});c.a.render(o.a.createElement((function(){return o.a.createElement(l.a,{theme:ge},o.a.createElement(m.a,null,o.a.createElement(_,null),o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/",component:U}),o.a.createElement(f,{path:"/Historique",component:P}),o.a.createElement(f,{path:"/Compte",component:A}),o.a.createElement(d,{path:"/Inscription",component:oe}),o.a.createElement(d,{path:"/Connexion",component:ie}),o.a.createElement(u.b,{path:"/Panier",component:ue}),o.a.createElement(u.b,{path:"/Article/:id",component:fe}),o.a.createElement(u.b,{path:"*",component:de}))))}),null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.da73e304.chunk.js.map