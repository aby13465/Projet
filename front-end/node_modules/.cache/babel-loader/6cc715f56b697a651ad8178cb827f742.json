{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useRef}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{ClickAwayListener,Grow,Paper,Popper,MenuItem,MenuList}from\"@material-ui/core\";import{AppBar,Toolbar,Button}from\"@material-ui/core\";import{HomeRounded,ShoppingCartRounded,AccountCircleRounded,MenuRounded}from\"@material-ui/icons\";import SideBar from\"../SideBar/SideBar\";var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},menuButton:{marginRight:theme.spacing(2)},title:{flexGrow:1},paper:{marginRight:theme.spacing(2)}};});export default function NavBar(props){var classes=useStyles();var Auth=localStorage.getItem(\"jwt-cookie\");var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var anchorRef=useRef(null);var handleToggle=function handleToggle(){setOpen(function(prevOpen){return!prevOpen;});};var handleClose=function handleClose(event){if(anchorRef.current&&anchorRef.current.contains(event.target)){return;}setOpen(false);};function handleListKeyDown(event){if(event.key===\"Tab\"){event.preventDefault();setOpen(false);}}var prevOpen=useRef(open);React.useEffect(function(){if(prevOpen.current===true&&open===false){anchorRef.current.focus();}prevOpen.current=open;},[open]);var clientLinks=React.createElement(MenuList,{autoFocusItem:open,id:\"menu-list-grow\",onKeyDown:handleListKeyDown},React.createElement(MenuItem,{onClick:function onClick(){window.location=\"/Historique\";setOpen(false);},color:\"inherit\"},\"Historique\"),React.createElement(MenuItem,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:window.location=\"/Compte\";setOpen(false);case 2:case\"end\":return _context.stop();}}},_callee);})),color:\"inherit\"},\"Compte\"),React.createElement(MenuItem,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return localStorage.removeItem(\"jwt-cookie\");case 2:window.location=\"/Connexion\";case 3:case\"end\":return _context2.stop();}}},_callee2);})),color:\"inherit\"},\"D\\xE9connexion\"));var visiteurLinks=React.createElement(MenuList,{autoFocusItem:open,id:\"menu-list-grow\",onKeyDown:handleListKeyDown},React.createElement(MenuItem,{onClick:function onClick(){window.location=\"/Inscription\";setOpen(false);},color:\"inherit\"},\"Inscription\"),React.createElement(MenuItem,{onClick:function onClick(){window.location=\"/Connexion\";setOpen(false);},color:\"inherit\"},\"Connexion\"));return React.createElement(\"div\",{className:classes.root},React.createElement(AppBar,{position:\"static\",color:\"primary\"},React.createElement(Toolbar,null,React.createElement(Button,{color:\"inherit\"},React.createElement(MenuRounded,null)),React.createElement(Button,{onClick:function onClick(){window.location=\"/\";},color:\"inherit\"},\"BNB Booking\"),React.createElement(\"div\",{className:classes.title}),React.createElement(Button,{onClick:function onClick(){window.location=\"/\";},color:\"inherit\"},React.createElement(HomeRounded,null)),React.createElement(Button,{ref:anchorRef,\"aria-controls\":open?\"menu-list-grow\":undefined,\"aria-haspopup\":\"true\",onClick:handleToggle,color:\"inherit\"},React.createElement(AccountCircleRounded,null)),React.createElement(Popper,{open:open,anchorEl:anchorRef.current,role:undefined,transition:true,disablePortal:true},function(_ref3){var TransitionProps=_ref3.TransitionProps,placement=_ref3.placement;return React.createElement(Grow,Object.assign({},TransitionProps,{style:{transformOrigin:placement===\"bottom\"?\"center top\":\"center bottom\"}}),React.createElement(Paper,null,React.createElement(ClickAwayListener,{onClickAway:handleClose},Auth?clientLinks:visiteurLinks)));}),React.createElement(Button,{onClick:function onClick(){window.location=\"/Panier\";},color:\"inherit\"},React.createElement(ShoppingCartRounded,null)))),React.createElement(SideBar,null));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/NavBar/NavBar.js"],"names":["React","useState","useRef","makeStyles","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","AppBar","Toolbar","Button","HomeRounded","ShoppingCartRounded","AccountCircleRounded","MenuRounded","SideBar","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","paper","NavBar","props","classes","Auth","localStorage","getItem","open","setOpen","anchorRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","useEffect","focus","clientLinks","window","location","removeItem","visiteurLinks","undefined","TransitionProps","placement","transformOrigin"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  ClickAwayListener,\r\n  Grow,\r\n  Paper,\r\n  Popper,\r\n  MenuItem,\r\n  MenuList,\r\n} from \"@material-ui/core\";\r\nimport { AppBar, Toolbar, Button } from \"@material-ui/core\";\r\nimport {\r\n  HomeRounded,\r\n  ShoppingCartRounded,\r\n  AccountCircleRounded,\r\n  MenuRounded,\r\n} from \"@material-ui/icons\";\r\nimport SideBar from \"../SideBar/SideBar\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function NavBar(props) {\r\n  const classes = useStyles();\r\n  const Auth = localStorage.getItem(\"jwt-cookie\");\r\n  const [open, setOpen] = useState(false);\r\n  const anchorRef = useRef(null);\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n  function handleListKeyDown(event) {\r\n    if (event.key === \"Tab\") {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n  const prevOpen = useRef(open);\r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  }, [open]);\r\n\r\n  const clientLinks = (\r\n    <MenuList\r\n      autoFocusItem={open}\r\n      id=\"menu-list-grow\"\r\n      onKeyDown={handleListKeyDown}\r\n    >\r\n      <MenuItem\r\n        onClick={() => {\r\n          window.location = \"/Historique\";\r\n          setOpen(false);\r\n        }}\r\n        color=\"inherit\"\r\n      >\r\n        Historique\r\n      </MenuItem>\r\n      <MenuItem\r\n        onClick={async () => {\r\n          window.location = \"/Compte\";\r\n          setOpen(false);\r\n        }}\r\n        color=\"inherit\"\r\n      >\r\n        Compte\r\n      </MenuItem>\r\n      <MenuItem\r\n        onClick={async () => {\r\n          await localStorage.removeItem(\"jwt-cookie\");\r\n          window.location = \"/Connexion\";\r\n        }}\r\n        color=\"inherit\"\r\n      >\r\n        Déconnexion\r\n      </MenuItem>\r\n    </MenuList>\r\n  );\r\n  const visiteurLinks = (\r\n    <MenuList\r\n      autoFocusItem={open}\r\n      id=\"menu-list-grow\"\r\n      onKeyDown={handleListKeyDown}\r\n    >\r\n      <MenuItem\r\n        onClick={() => {\r\n          window.location = \"/Inscription\";\r\n          setOpen(false);\r\n        }}\r\n        color=\"inherit\"\r\n      >\r\n        Inscription\r\n      </MenuItem>\r\n      <MenuItem\r\n        onClick={() => {\r\n          window.location = \"/Connexion\";\r\n          setOpen(false);\r\n        }}\r\n        color=\"inherit\"\r\n      >\r\n        Connexion\r\n      </MenuItem>\r\n    </MenuList>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\" color=\"primary\">\r\n        <Toolbar>\r\n          <Button color=\"inherit\">\r\n            <MenuRounded />\r\n          </Button>\r\n          <Button\r\n            onClick={() => {\r\n              window.location = \"/\";\r\n            }}\r\n            color=\"inherit\"\r\n          >\r\n            BNB Booking\r\n          </Button>\r\n          <div className={classes.title}></div>\r\n          <Button\r\n            onClick={() => {\r\n              window.location = \"/\";\r\n            }}\r\n            color=\"inherit\"\r\n          >\r\n            <HomeRounded />\r\n          </Button>\r\n          <Button\r\n            ref={anchorRef}\r\n            aria-controls={open ? \"menu-list-grow\" : undefined}\r\n            aria-haspopup=\"true\"\r\n            onClick={handleToggle}\r\n            color=\"inherit\"\r\n          >\r\n            <AccountCircleRounded />\r\n          </Button>\r\n          <Popper\r\n            open={open}\r\n            anchorEl={anchorRef.current}\r\n            role={undefined}\r\n            transition\r\n            disablePortal\r\n          >\r\n            {({ TransitionProps, placement }) => (\r\n              <Grow\r\n                {...TransitionProps}\r\n                style={{\r\n                  transformOrigin:\r\n                    placement === \"bottom\" ? \"center top\" : \"center bottom\",\r\n                }}\r\n              >\r\n                <Paper>\r\n                  <ClickAwayListener onClickAway={handleClose}>\r\n                    {Auth ? clientLinks : visiteurLinks}\r\n                  </ClickAwayListener>\r\n                </Paper>\r\n              </Grow>\r\n            )}\r\n          </Popper>\r\n          <Button\r\n            onClick={() => {\r\n              window.location = \"/Panier\";\r\n            }}\r\n            color=\"inherit\"\r\n          >\r\n            <ShoppingCartRounded />\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <SideBar />\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}