{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Typography}from\"@material-ui/core\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},btnSpacing:{margin:theme.spacing(0,2,2,2)}};});export default function Historique(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];useEffect(function(){setData([]);axios.post(\"http://localhost:4000/commandes/historique\",{},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){resultat.data.forEach(function(r){setData(function(d){return[].concat(_toConsumableArray(d),[{liste:r.liste,adresse:r.adresse,prix:r.prix,etat:r.etat,cree:r.cree}]);});});});},[]);return React.createElement(TableContainer,{component:Paper},React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,{align:\"left\"},React.createElement(Typography,{color:\"primary\"},\"Liste des Articles\")),React.createElement(TableCell,{align:\"left\"},React.createElement(Typography,{color:\"primary\"},\"PrixTotal\")),React.createElement(TableCell,{align:\"left\"},React.createElement(Typography,{color:\"primary\"},\"Adresse\")),React.createElement(TableCell,{align:\"left\"},React.createElement(Typography,{color:\"primary\"},\"Date\")),React.createElement(TableCell,{align:\"left\"},React.createElement(Typography,{color:\"primary\"},\"Etat\")))),React.createElement(TableBody,null,data.map(function(d){return React.createElement(TableRow,null,React.createElement(TableCell,{align:\"left\"},d.liste.map(function(l){return React.createElement(\"div\",null,l.nom,\" x\",l.quantite,\" : \",l.prix,\" DT\");})),React.createElement(TableCell,{align:\"left\"},d.prix,\" DT\"),React.createElement(TableCell,{align:\"left\"},d.adresse),React.createElement(TableCell,{align:\"left\"},d.cree),React.createElement(TableCell,{align:\"left\"},d.etat));}))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Historique/Historique.js"],"names":["React","useState","useEffect","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Typography","makeStyles","axios","useStyles","theme","table","minWidth","btnSpacing","margin","spacing","Historique","classes","data","setData","post","headers","Authorization","localStorage","getItem","then","resultat","forEach","r","d","liste","adresse","prix","etat","cree","map","l","nom","quantite"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  btnSpacing: {\r\n    margin: theme.spacing(0, 2, 2, 2),\r\n  },\r\n}));\r\n\r\nexport default function Historique() {\r\n  const classes = useStyles();\r\n  const [data, setData] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setData([]);\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/commandes/historique\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n          },\r\n        }\r\n      )\r\n      .then((resultat) => {\r\n        resultat.data.forEach((r) => {\r\n          setData((d) => [\r\n            ...d,\r\n            {\r\n              liste: r.liste,\r\n              adresse: r.adresse,\r\n              prix: r.prix,\r\n              etat: r.etat,\r\n              cree: r.cree,\r\n            },\r\n          ]);\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"left\">\r\n              <Typography color=\"primary\">Liste des Articles</Typography>\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              <Typography color=\"primary\">PrixTotal</Typography>\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              <Typography color=\"primary\">Adresse</Typography>\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              <Typography color=\"primary\">Date</Typography>\r\n            </TableCell>\r\n            <TableCell align=\"left\">\r\n              <Typography color=\"primary\">Etat</Typography>\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {data.map((d) => (\r\n            <TableRow>\r\n              <TableCell align=\"left\">\r\n                {d.liste.map((l) => (\r\n                  <div>\r\n                    {l.nom} x{l.quantite} : {l.prix} DT\r\n                  </div>\r\n                ))}\r\n              </TableCell>\r\n              <TableCell align=\"left\">{d.prix} DT</TableCell>\r\n              <TableCell align=\"left\">{d.adresse}</TableCell>\r\n              <TableCell align=\"left\">{d.cree}</TableCell>\r\n              <TableCell align=\"left\">{d.etat}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}