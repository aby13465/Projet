{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";import{Typography,Grid,Radio,RadioGroup,FormControlLabel,FormLabel,FormControl,GridList,Paper,Link,TextField}from\"@material-ui/core\";import{Autocomplete}from\"@material-ui/lab\";var useStyles=makeStyles(function(theme){return{formControl:{margin:theme.spacing(2,2,2,0),width:200},formControlItem:{margin:theme.spacing(1)},Box:{margin:theme.spacing(1),width:200},Text:{margin:theme.spacing(0,1),textAlign:\"center\"},image:{maxWidth:195,height:125,display:\"block\",margin:\"auto\"}};});export default function Acceuil(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),prix=_useState4[0],setPrix=_useState4[1];var _useState5=useState([{title:\"Tout\"}]),_useState6=_slicedToArray(_useState5,2),categories=_useState6[0],setCategories=_useState6[1];var _useState7=useState(\"Tout\"),_useState8=_slicedToArray(_useState7,2),categorie=_useState8[0],setCategorie=_useState8[1];var _useState9=useState(\"Tout\"),_useState10=_slicedToArray(_useState9,2),marque=_useState10[0],setMarque=_useState10[1];var _useState11=useState([{title:\"Tout\"}]),_useState12=_slicedToArray(_useState11,2),marques=_useState12[0],setMarques=_useState12[1];useEffect(function(){axios.post(\"http://localhost:4000/categories/recherche\",{}).then(function(resultat){resultat.data.forEach(function(d){return setCategories(function(categorie){return[].concat(_toConsumableArray(categorie),[{title:d.nom}]);});});});axios.post(\"http://localhost:4000/marques/recherche\",{}).then(function(resultat){resultat.data.forEach(function(d){return setMarques(function(marque){return[].concat(_toConsumableArray(marque),[{title:d.nom}]);});});});},[]);useEffect(function(){axios.post(\"http://localhost:4000/articles/recherche\",{prix:prix,categorie:categorie,marque:marque}).then(function(resultat){resultat.data.map(function(r){return r.image=\"data:image/jpeg;base64,\"+new Buffer(r.image.data.data).toString(\"base64\");});setData(resultat.data);});},[prix,categorie,marque]);return React.createElement(Grid,{container:true,direction:\"row\"},React.createElement(Grid,{item:true,driection:\"column\"},React.createElement(FormControl,{className:classes.formControl},React.createElement(\"div\",{className:classes.formControlItem},React.createElement(FormLabel,null,\"Prix\"),React.createElement(RadioGroup,{defaultValue:\"Tout\",onChange:function onChange(e){setPrix(e.target.value);}},React.createElement(FormControlLabel,{value:\"Tout\",control:React.createElement(Radio,null),label:\"Tout\"}),React.createElement(FormControlLabel,{value:\"de 0 \\xE0 25\",control:React.createElement(Radio,null),label:\"de 0 \\xE0 25\"}),React.createElement(FormControlLabel,{value:\"de 25 \\xE0 50\",control:React.createElement(Radio,null),label:\"de 25 \\xE0 50\"}),React.createElement(FormControlLabel,{value:\"de 50 \\xE0 100\",control:React.createElement(Radio,null),label:\"de 50 \\xE0 100\"}),React.createElement(FormControlLabel,{value:\"plus que 100\",control:React.createElement(Radio,null),label:\"plus que 100\"}))),React.createElement(\"div\",{className:classes.formControlItem},React.createElement(FormLabel,null,\"Cat\\xE9gorie\"),React.createElement(Autocomplete,{defaultValue:{title:categorie},id:\"categorie\",disableClearable:\"true\",onInputChange:function onInputChange(event,value){return setCategorie(value);},options:categories,getOptionLabel:function getOptionLabel(option){return option.title;},renderInput:function renderInput(params){return React.createElement(TextField,Object.assign({},params,{margin:\"normal\",variant:\"outlined\"}));}})),React.createElement(\"div\",{className:classes.formControlItem},React.createElement(FormLabel,null,\"Marque\"),React.createElement(Autocomplete,{id:\"marque\",disableClearable:\"true\",onInputChange:function onInputChange(event,value){return setMarque(value);},defaultValue:{title:marque},options:marques,getOptionLabel:function getOptionLabel(option){return option.title;},renderInput:function renderInput(params){return React.createElement(TextField,Object.assign({},params,{margin:\"normal\",variant:\"outlined\"}));}})))),React.createElement(Grid,{item:true,className:classes.formControl,xs:true},React.createElement(GridList,{cols:false},data.map(function(d){return React.createElement(Paper,{className:classes.Box},React.createElement(\"img\",{alt:d.nom,src:d.image,className:classes.image}),React.createElement(Typography,{className:classes.Text,noWrap:\"true\"},React.createElement(Link,{href:\"/Article/\"+d._id},\" \",d.nom,\" \")),React.createElement(Typography,{color:\"secondary\",variant:\"h6\",className:classes.Text,noWrap:\"true\"},d.prix,\" DT\"));}))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Acceuil/Acceuil.js"],"names":["React","useEffect","useState","makeStyles","axios","Typography","Grid","Radio","RadioGroup","FormControlLabel","FormLabel","FormControl","GridList","Paper","Link","TextField","Autocomplete","useStyles","theme","formControl","margin","spacing","width","formControlItem","Box","Text","textAlign","image","maxWidth","height","display","Acceuil","classes","data","setData","prix","setPrix","title","categories","setCategories","categorie","setCategorie","marque","setMarque","marques","setMarques","post","then","resultat","forEach","d","nom","map","r","Buffer","toString","e","target","value","event","option","params","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Typography,\r\n  Grid,\r\n  Radio,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  FormLabel,\r\n  FormControl,\r\n  GridList,\r\n  Paper,\r\n  Link,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(2, 2, 2, 0),\r\n    width: 200\r\n  },\r\n  formControlItem: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  Box: {\r\n    margin: theme.spacing(1),\r\n    width: 200,\r\n  },\r\n  Text: {\r\n    margin: theme.spacing(0, 1),\r\n    textAlign: \"center\",\r\n  },\r\n  image: {\r\n    maxWidth: 195,\r\n    height: 125,\r\n    display: \"block\",\r\n    margin: \"auto\",\r\n  },\r\n}));\r\n\r\nexport default function Acceuil() {\r\n  const classes = useStyles();\r\n  const [data, setData] = useState([]);\r\n  const [prix, setPrix] = useState(\"\");\r\n  const [categories, setCategories] = useState([{ title: \"Tout\" }]);\r\n  const [categorie, setCategorie] = useState(\"Tout\");\r\n  const [marque, setMarque] = useState(\"Tout\");\r\n  const [marques, setMarques] = useState([{ title: \"Tout\" }]);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://localhost:4000/categories/recherche\", {})\r\n      .then((resultat) => {\r\n        resultat.data.forEach((d) =>\r\n          setCategories((categorie) => [...categorie, { title: d.nom }])\r\n        );\r\n      });\r\n    axios\r\n      .post(\"http://localhost:4000/marques/recherche\", {})\r\n      .then((resultat) => {\r\n        resultat.data.forEach((d) =>\r\n          setMarques((marque) => [...marque, { title: d.nom }])\r\n        );\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post(\"http://localhost:4000/articles/recherche\", {\r\n        prix,\r\n        categorie,\r\n        marque,\r\n      })\r\n      .then((resultat) => {\r\n        resultat.data.map((r) => {\r\n          return (r.image =\r\n            \"data:image/jpeg;base64,\" +\r\n            new Buffer(r.image.data.data).toString(\"base64\"));\r\n        });\r\n        setData(resultat.data);\r\n      });\r\n  }, [prix, categorie, marque]);\r\n\r\n  return (\r\n    <Grid container direction=\"row\">\r\n      <Grid item driection=\"column\">\r\n        <FormControl className={classes.formControl}>\r\n          <div className={classes.formControlItem}>\r\n            <FormLabel>Prix</FormLabel>\r\n            <RadioGroup\r\n              defaultValue={\"Tout\"}\r\n              onChange={(e) => {\r\n                setPrix(e.target.value);\r\n              }}\r\n            >\r\n              <FormControlLabel value=\"Tout\" control={<Radio />} label=\"Tout\" />\r\n              <FormControlLabel\r\n                value=\"de 0 à 25\"\r\n                control={<Radio />}\r\n                label=\"de 0 à 25\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"de 25 à 50\"\r\n                control={<Radio />}\r\n                label=\"de 25 à 50\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"de 50 à 100\"\r\n                control={<Radio />}\r\n                label=\"de 50 à 100\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"plus que 100\"\r\n                control={<Radio />}\r\n                label=\"plus que 100\"\r\n              />\r\n            </RadioGroup>\r\n          </div>\r\n          <div className={classes.formControlItem}>\r\n            <FormLabel>Catégorie</FormLabel>\r\n            <Autocomplete\r\n              defaultValue={{ title: categorie }}\r\n              id=\"categorie\"\r\n              disableClearable=\"true\"\r\n              onInputChange={(event, value) => setCategorie(value)}\r\n              options={categories}\r\n              getOptionLabel={(option) => option.title}\r\n              renderInput={(params) => (\r\n                <TextField {...params} margin=\"normal\" variant=\"outlined\" />\r\n              )}\r\n            />\r\n          </div>\r\n          <div className={classes.formControlItem}>\r\n            <FormLabel>Marque</FormLabel>\r\n            <Autocomplete\r\n              id=\"marque\"\r\n              disableClearable=\"true\"\r\n              onInputChange={(event, value) => setMarque(value)}\r\n              defaultValue={{ title: marque }}\r\n              options={marques}\r\n              getOptionLabel={(option) => option.title}\r\n              renderInput={(params) => (\r\n                <TextField {...params} margin=\"normal\" variant=\"outlined\" />\r\n              )}\r\n            />\r\n          </div>\r\n        </FormControl>\r\n      </Grid>\r\n      <Grid item className={classes.formControl} xs={true}>\r\n        <GridList cols={false}>\r\n          {data.map((d) => (\r\n            <Paper className={classes.Box}>\r\n              <img alt={d.nom} src={d.image} className={classes.image}></img>\r\n              <Typography className={classes.Text} noWrap=\"true\">\r\n                <Link href={\"/Article/\" + d._id}> {d.nom} </Link>\r\n              </Typography>\r\n              <Typography\r\n                color=\"secondary\"\r\n                variant=\"h6\"\r\n                className={classes.Text}\r\n                noWrap=\"true\"\r\n              >\r\n                {d.prix} DT\r\n              </Typography>\r\n            </Paper>\r\n          ))}\r\n        </GridList>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}