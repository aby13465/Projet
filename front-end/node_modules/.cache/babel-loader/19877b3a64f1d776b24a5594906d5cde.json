{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Table from\"@material-ui/core/Table\";import{TextField,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper,Button,Dialog,DialogTitle,DialogContent,DialogActions,FormControl,FormLabel,FormControlLabel,RadioGroup,Radio}from\"@material-ui/core\";import axios from\"axios\";var useStyles=makeStyles(function(theme){return{table:{minWidth:650},formcontrol:{margin:theme.spacing(1)}};});export default function Clients(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),nom=_useState6[0],setNom=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),prenom=_useState8[0],setPrenom=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),telephone=_useState10[0],setTelephone=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),type=_useState12[0],setType=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),rows=_useState14[0],setRows=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),open=_useState16[0],setOpen=_useState16[1];var tableHeadActions=function tableHeadActions(){if(props.type===\"administrateur\")return React.createElement(TableCell,{align:\"center\"},\"Actions\");};var tableBodyActions=function tableBodyActions(row){if(props.type===\"administrateur\")return React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){setOpen(true);setId(row._id);setNom(row.nom);setPrenom(row.prenom);setEmail(row.email);setTelephone(row.telephone);setType(function(t){return row.administrateur?\"Administrateur\":row.moderateur?\"Moderateur\":\"Client\";});}},\"Modifier\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/clients/supprimerclient\",{_id:row._id},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setRows([]);refreshRows();});}},\"Supprimer\"));};var refreshRows=function refreshRows(){axios.post(\"http://localhost:4000/clients/getclients\",{},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){resultat.data.forEach(function(r){setRows(function(rows){return[].concat(_toConsumableArray(rows),[{_id:r._id,nom:r.nom,prenom:r.prenom,email:r.email,telephone:r.telephone,cree:r.cree,administrateur:r.administrateur,moderateur:r.moderateur}]);});});});};useEffect(function(){refreshRows();},[]);var classes=useStyles();return React.createElement(\"div\",null,React.createElement(Dialog,{open:open,fullWidth:true,onClose:function onClose(){setOpen(false);},\"aria-labelledby\":\"form-dialog-title\"},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Modifier\"),React.createElement(DialogContent,null,React.createElement(TextField,{value:nom,onChange:function onChange(event){return setNom(event.target.value);},variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"nom\",label:\"Nom\",name:\"nom\",autoComplete:\"nom\"}),React.createElement(TextField,{value:prenom,onChange:function onChange(event){return setPrenom(event.target.value);},variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"prenom\",label:\"Pr\\xE9nom\",name:\"prenom\",autoComplete:\"prenom\"}),React.createElement(TextField,{value:email,onChange:function onChange(event){return setEmail(event.target.value);},variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email\",name:\"email\",autoComplete:\"email\"}),React.createElement(TextField,{value:telephone,onChange:function onChange(event){return setTelephone(event.target.value);},variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"telephone\",label:\"T\\xE9l\\xE9phone\",name:\"telephone\",autoComplete:\"telephone\"}),React.createElement(FormControl,{className:classes.formcontrol},React.createElement(FormLabel,null,\"Type\"),React.createElement(RadioGroup,{row:true,defaultValue:type,onChange:function onChange(event){setType(event.target.value);}},React.createElement(FormControlLabel,{value:\"Administrateur\",control:React.createElement(Radio,null),label:\"Administrateur\"}),React.createElement(FormControlLabel,{value:\"Moderateur\",control:React.createElement(Radio,null),label:\"Moderateur\"}),React.createElement(FormControlLabel,{value:\"Client\",control:React.createElement(Radio,null),label:\"Client\"})))),React.createElement(DialogActions,null,React.createElement(Button,{color:\"primary\",onClick:function onClick(){axios.post(\"http://localhost:4000/clients/modifierclient\",{_id:id,nom:nom,prenom:prenom,email:email,telephone:telephone,administrateur:type===\"Administrateur\",moderateur:type===\"Administrateur\"||type===\"Moderateur\"},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setRows([]);setOpen(false);refreshRows();});}},\"Confirmer\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){setOpen(false);}},\"Annuler\"))),React.createElement(TableContainer,{component:Paper},React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"ID\"),React.createElement(TableCell,null,\"Nom\"),React.createElement(TableCell,null,\"Prenom\"),React.createElement(TableCell,null,\"E-mail\"),React.createElement(TableCell,null,\"T\\xE9l\\xE9phone\"),React.createElement(TableCell,null,\"Type\"),React.createElement(TableCell,null,\"Date de cr\\xE9ation\"),tableHeadActions())),React.createElement(TableBody,null,rows.map(function(row){return React.createElement(TableRow,null,React.createElement(TableCell,null,row._id),React.createElement(TableCell,null,row.nom),React.createElement(TableCell,null,row.prenom),React.createElement(TableCell,null,row.email),React.createElement(TableCell,null,row.telephone),React.createElement(TableCell,null,row.administrateur?React.createElement(\"div\",null,\"Administrateur\"):row.moderateur?React.createElement(\"div\",null,\"Moderateur\"):React.createElement(\"div\",null,\"Client\")),React.createElement(TableCell,null,row.cree),tableBodyActions(row));})))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Clients/Clients.js"],"names":["React","useState","useEffect","makeStyles","Table","TextField","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Dialog","DialogTitle","DialogContent","DialogActions","FormControl","FormLabel","FormControlLabel","RadioGroup","Radio","axios","useStyles","theme","table","minWidth","formcontrol","margin","spacing","Clients","props","id","setId","email","setEmail","nom","setNom","prenom","setPrenom","telephone","setTelephone","type","setType","rows","setRows","open","setOpen","tableHeadActions","tableBodyActions","row","_id","t","administrateur","moderateur","post","headers","Authorization","localStorage","getItem","then","refreshRows","resultat","data","forEach","r","cree","classes","event","target","value","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport {\r\n  TextField,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  Button,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  FormControl,\r\n  FormLabel,\r\n  FormControlLabel,\r\n  RadioGroup,\r\n  Radio,\r\n} from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n  formcontrol: {\r\n    margin: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport default function Clients(props) {\r\n  const [id, setId] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [nom, setNom] = useState(\"\");\r\n  const [prenom, setPrenom] = useState(\"\");\r\n  const [telephone, setTelephone] = useState(\"\");\r\n  const [type, setType] = useState(\"\");\r\n  const [rows, setRows] = useState([]);\r\n  const [open, setOpen] = useState(false);\r\n\r\n  const tableHeadActions = () => {\r\n    if (props.type === \"administrateur\")\r\n      return <TableCell align=\"center\">Actions</TableCell>;\r\n  };\r\n\r\n  const tableBodyActions = (row) => {\r\n    if (props.type === \"administrateur\")\r\n      return (\r\n        <TableCell align=\"center\">\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              setOpen(true);\r\n              setId(row._id);\r\n              setNom(row.nom);\r\n              setPrenom(row.prenom);\r\n              setEmail(row.email);\r\n              setTelephone(row.telephone);\r\n              setType((t) =>\r\n                row.administrateur\r\n                  ? \"Administrateur\"\r\n                  : row.moderateur\r\n                  ? \"Moderateur\"\r\n                  : \"Client\"\r\n              );\r\n            }}\r\n          >\r\n            Modifier\r\n          </Button>\r\n          <Button\r\n            color=\"secondary\"\r\n            onClick={() => {\r\n              axios\r\n                .post(\r\n                  \"http://localhost:4000/clients/supprimerclient\",\r\n                  { _id: row._id },\r\n                  {\r\n                    headers: {\r\n                      Authorization:\r\n                        \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                    },\r\n                  }\r\n                )\r\n                .then(() => {\r\n                  setRows([]);\r\n                  refreshRows();\r\n                });\r\n            }}\r\n          >\r\n            Supprimer\r\n          </Button>\r\n        </TableCell>\r\n      );\r\n  };\r\n\r\n  const refreshRows = () => {\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/clients/getclients\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n          },\r\n        }\r\n      )\r\n      .then((resultat) => {\r\n        resultat.data.forEach((r) => {\r\n          setRows((rows) => [\r\n            ...rows,\r\n            {\r\n              _id: r._id,\r\n              nom: r.nom,\r\n              prenom: r.prenom,\r\n              email: r.email,\r\n              telephone: r.telephone,\r\n              cree: r.cree,\r\n              administrateur: r.administrateur,\r\n              moderateur: r.moderateur,\r\n            },\r\n          ]);\r\n        });\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshRows();\r\n  }, []);\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div>\r\n      <Dialog\r\n        open={open}\r\n        fullWidth\r\n        onClose={() => {\r\n          setOpen(false);\r\n        }}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Modifier</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            value={nom}\r\n            onChange={(event) => setNom(event.target.value)}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"nom\"\r\n            label=\"Nom\"\r\n            name=\"nom\"\r\n            autoComplete=\"nom\"\r\n          />\r\n          <TextField\r\n            value={prenom}\r\n            onChange={(event) => setPrenom(event.target.value)}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"prenom\"\r\n            label=\"Prénom\"\r\n            name=\"prenom\"\r\n            autoComplete=\"prenom\"\r\n          />\r\n          <TextField\r\n            value={email}\r\n            onChange={(event) => setEmail(event.target.value)}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n          />\r\n          <TextField\r\n            value={telephone}\r\n            onChange={(event) => setTelephone(event.target.value)}\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"telephone\"\r\n            label=\"Téléphone\"\r\n            name=\"telephone\"\r\n            autoComplete=\"telephone\"\r\n          />\r\n          <FormControl className={classes.formcontrol}>\r\n            <FormLabel>Type</FormLabel>\r\n            <RadioGroup\r\n              row\r\n              defaultValue={type}\r\n              onChange={(event) => {\r\n                setType(event.target.value);\r\n              }}\r\n            >\r\n              <FormControlLabel\r\n                value=\"Administrateur\"\r\n                control={<Radio />}\r\n                label=\"Administrateur\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"Moderateur\"\r\n                control={<Radio />}\r\n                label=\"Moderateur\"\r\n              />\r\n              <FormControlLabel\r\n                value=\"Client\"\r\n                control={<Radio />}\r\n                label=\"Client\"\r\n              />\r\n            </RadioGroup>\r\n          </FormControl>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              axios\r\n                .post(\r\n                  \"http://localhost:4000/clients/modifierclient\",\r\n                  {\r\n                    _id: id,\r\n                    nom: nom,\r\n                    prenom: prenom,\r\n                    email: email,\r\n                    telephone: telephone,\r\n                    administrateur: type === \"Administrateur\",\r\n                    moderateur:\r\n                      type === \"Administrateur\" || type === \"Moderateur\",\r\n                  },\r\n                  {\r\n                    headers: {\r\n                      Authorization:\r\n                        \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                    },\r\n                  }\r\n                )\r\n                .then(() => {\r\n                  setRows([]);\r\n                  setOpen(false);\r\n                  refreshRows();\r\n                });\r\n            }}\r\n          >\r\n            Confirmer\r\n          </Button>\r\n          <Button\r\n            color=\"secondary\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          >\r\n            Annuler\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n      <TableContainer component={Paper}>\r\n        <Table className={classes.table} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>ID</TableCell>\r\n              <TableCell>Nom</TableCell>\r\n              <TableCell>Prenom</TableCell>\r\n              <TableCell>E-mail</TableCell>\r\n              <TableCell>Téléphone</TableCell>\r\n              <TableCell>Type</TableCell>\r\n              <TableCell>Date de création</TableCell>\r\n              {tableHeadActions()}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row) => (\r\n              <TableRow>\r\n                <TableCell>{row._id}</TableCell>\r\n                <TableCell>{row.nom}</TableCell>\r\n                <TableCell>{row.prenom}</TableCell>\r\n                <TableCell>{row.email}</TableCell>\r\n                <TableCell>{row.telephone}</TableCell>\r\n                <TableCell>\r\n                  {row.administrateur ? (\r\n                    <div>Administrateur</div>\r\n                  ) : row.moderateur ? (\r\n                    <div>Moderateur</div>\r\n                  ) : (\r\n                    <div>Client</div>\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>{row.cree}</TableCell>\r\n                {tableBodyActions(row)}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}