{"ast":null,"code":"import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import axios from\"axios\";import{Paper,Table,TableCell,TableContainer,TableHead,TableRow,TableBody,Button}from\"@material-ui/core\";var useStyles=makeStyles({table:{minWidth:650}});export default function Articles(){var classes=useStyles();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rows=_useState2[0],setRows=_useState2[1];var refreshRows=function refreshRows(){axios.post(\"http://localhost:4000/articles/recherche\",{}).then(function(resultat){setRows(resultat.data);});};useEffect(function(){refreshRows();},[]);return React.createElement(TableContainer,{component:Paper},React.createElement(Table,{className:classes.table,\"aria-label\":\"simple table\"},React.createElement(TableHead,null,React.createElement(TableRow,null,React.createElement(TableCell,null,\"ID\"),React.createElement(TableCell,null,\"Nom\"),React.createElement(TableCell,null,\"Prix\"),React.createElement(TableCell,null,\"Quantit\\xE9\"),React.createElement(TableCell,null,\"Date de cr\\xE9ation\"),React.createElement(TableCell,{align:\"center\"},\"Actions\"))),React.createElement(TableBody,null,rows.map(function(row){return React.createElement(TableRow,null,React.createElement(TableCell,null,row._id),React.createElement(TableCell,null,row.nom),React.createElement(TableCell,null,row.prix),React.createElement(TableCell,null,row.quantite),React.createElement(TableCell,null,row.cree),React.createElement(TableCell,{align:\"center\"},React.createElement(Button,{color:\"primary\",onClick:function onClick(){}},\"Modifier\"),React.createElement(Button,{color:\"secondary\",onClick:function onClick(){axios.post(\"http://localhost:4000/articles/supprimer\",{_id:row._id},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(){setRows([]);refreshRows();});}},\"Supprimer\")));}))));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Articles/Articles.js"],"names":["React","useEffect","useState","makeStyles","axios","Paper","Table","TableCell","TableContainer","TableHead","TableRow","TableBody","Button","useStyles","table","minWidth","Articles","classes","rows","setRows","refreshRows","post","then","resultat","data","map","row","_id","nom","prix","quantite","cree","headers","Authorization","localStorage","getItem"],"mappings":"8GAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OACEC,KADF,CAEEC,KAFF,CAGEC,SAHF,CAIEC,cAJF,CAKEC,SALF,CAMEC,QANF,CAOEC,SAPF,CAQEC,MARF,KASO,mBATP,CAWA,GAAMC,CAAAA,SAAS,CAAGV,UAAU,CAAC,CAC3BW,KAAK,CAAE,CACLC,QAAQ,CAAE,GADL,CADoB,CAAD,CAA5B,CAMA,cAAe,SAASC,CAAAA,QAAT,EAAoB,CACjC,GAAMC,CAAAA,OAAO,CAAGJ,SAAS,EAAzB,CADiC,cAETX,QAAQ,CAAC,EAAD,CAFC,wCAE1BgB,IAF0B,eAEpBC,OAFoB,eAIjC,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBhB,KAAK,CACFiB,IADH,CACQ,0CADR,CACoD,EADpD,EAEGC,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBJ,OAAO,CAACI,QAAQ,CAACC,IAAV,CAAP,CACD,CAJH,EAKD,CAND,CAQAvB,SAAS,CAAC,UAAM,CACdmB,WAAW,GACZ,CAFQ,CAEN,EAFM,CAAT,CAIA,MACE,qBAAC,cAAD,EAAgB,SAAS,CAAEf,KAA3B,EACE,oBAAC,KAAD,EAAO,SAAS,CAAEY,OAAO,CAACH,KAA1B,CAAiC,aAAW,cAA5C,EACE,oBAAC,SAAD,MACE,oBAAC,QAAD,MACE,oBAAC,SAAD,WADF,CAEE,oBAAC,SAAD,YAFF,CAGE,oBAAC,SAAD,aAHF,CAIE,oBAAC,SAAD,oBAJF,CAKE,oBAAC,SAAD,4BALF,CAME,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,YANF,CADF,CADF,CAWE,oBAAC,SAAD,MACGI,IAAI,CAACO,GAAL,CAAS,SAACC,GAAD,QACR,qBAAC,QAAD,MACE,oBAAC,SAAD,MAAYA,GAAG,CAACC,GAAhB,CADF,CAEE,oBAAC,SAAD,MAAYD,GAAG,CAACE,GAAhB,CAFF,CAGE,oBAAC,SAAD,MAAYF,GAAG,CAACG,IAAhB,CAHF,CAIE,oBAAC,SAAD,MAAYH,GAAG,CAACI,QAAhB,CAJF,CAKE,oBAAC,SAAD,MAAYJ,GAAG,CAACK,IAAhB,CALF,CAME,oBAAC,SAAD,EAAW,KAAK,CAAC,QAAjB,EACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,SAAd,CAAwB,OAAO,CAAE,kBAAM,CAAE,CAAzC,aADF,CAIE,oBAAC,MAAD,EACE,KAAK,CAAC,WADR,CAEE,OAAO,CAAE,kBAAM,CACb3B,KAAK,CACFiB,IADH,CAEI,0CAFJ,CAGI,CACEM,GAAG,CAAED,GAAG,CAACC,GADX,CAHJ,CAMI,CACEK,OAAO,CAAE,CACPC,aAAa,CACX,UAAYC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAFP,CADX,CANJ,EAaGb,IAbH,CAaQ,UAAM,CACVH,OAAO,CAAC,EAAD,CAAP,CACAC,WAAW,GACZ,CAhBH,EAiBD,CApBH,cAJF,CANF,CADQ,EAAT,CADH,CAXF,CADF,CADF,CAwDD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Paper,\r\n  Table,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  TableBody,\r\n  Button,\r\n} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles({\r\n  table: {\r\n    minWidth: 650,\r\n  },\r\n});\r\n\r\nexport default function Articles() {\r\n  const classes = useStyles();\r\n  const [rows, setRows] = useState([]);\r\n\r\n  const refreshRows = () => {\r\n    axios\r\n      .post(\"http://localhost:4000/articles/recherche\", {})\r\n      .then((resultat) => {\r\n        setRows(resultat.data);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    refreshRows();\r\n  }, []);\r\n\r\n  return (\r\n    <TableContainer component={Paper}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>ID</TableCell>\r\n            <TableCell>Nom</TableCell>\r\n            <TableCell>Prix</TableCell>\r\n            <TableCell>Quantité</TableCell>\r\n            <TableCell>Date de création</TableCell>\r\n            <TableCell align=\"center\">Actions</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow>\r\n              <TableCell>{row._id}</TableCell>\r\n              <TableCell>{row.nom}</TableCell>\r\n              <TableCell>{row.prix}</TableCell>\r\n              <TableCell>{row.quantite}</TableCell>\r\n              <TableCell>{row.cree}</TableCell>\r\n              <TableCell align=\"center\">\r\n                <Button color=\"primary\" onClick={() => {}}>\r\n                  Modifier\r\n                </Button>\r\n                <Button\r\n                  color=\"secondary\"\r\n                  onClick={() => {\r\n                    axios\r\n                      .post(\r\n                        \"http://localhost:4000/articles/supprimer\",\r\n                        {\r\n                          _id: row._id,\r\n                        },\r\n                        {\r\n                          headers: {\r\n                            Authorization:\r\n                              \"bearer \" + localStorage.getItem(\"jwt-cookie\"),\r\n                          },\r\n                        }\r\n                      )\r\n                      .then(() => {\r\n                        setRows([]);\r\n                        refreshRows();\r\n                      });\r\n                  }}\r\n                >\r\n                  Supprimer\r\n                </Button>\r\n              </TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}