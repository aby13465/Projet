{"ast":null,"code":"import _toConsumableArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"E:\\\\projetpfe\\\\front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Container,Button}from\"@material-ui/core\";import axios from\"axios\";export default function Panier(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];useEffect(function(){axios.post(\"http://localhost:4000/clients/getpanier\",{},{headers:{Authorization:\"bearer \"+localStorage.getItem(\"jwt-cookie\")}}).then(function(resultat){resultat.data.forEach(function(d){axios.get(\"http://localhost:4000/articles/recherche/\"+d._id).then(function(resultat){return setItems(function(items){return[].concat(_toConsumableArray(items),[{nom:resultat.data.nom,quantite:d.quantite,prix:resultat.data.prix}]);});});});});},[]);var handleSubmit=function handleSubmit(event){event.preventDefault();if(!localStorage.getItem(\"jwt-cookie\")){window.location=\"/Connexion\";}};return React.createElement(Container,{component:\"main\"},React.createElement(\"form\",{onSubmit:handleSubmit,noValidate:true},React.createElement(Button,{variant:\"contained\",color:\"primary\",type:\"submit\"},\"Commander\")));}","map":{"version":3,"sources":["E:/projetpfe/front-end/src/Panier/Panier.js"],"names":["React","useEffect","useState","Container","Button","axios","Panier","items","setItems","post","headers","Authorization","localStorage","getItem","then","resultat","data","forEach","d","get","_id","nom","quantite","prix","handleSubmit","event","preventDefault","window","location"],"mappings":"oOAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,MAApB,KAAkC,mBAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,eACLJ,QAAQ,CAAC,EAAD,CADH,wCACxBK,KADwB,eACjBC,QADiB,eAE/BP,SAAS,CAAC,UAAM,CACdI,KAAK,CACFI,IADH,CAEI,yCAFJ,CAGI,EAHJ,CAII,CACEC,OAAO,CAAE,CACPC,aAAa,CAAE,UAAYC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADpB,CADX,CAJJ,EAUGC,IAVH,CAUQ,SAAAC,QAAQ,CAAI,CAChBA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsB,SAAAC,CAAC,CAAI,CACzBb,KAAK,CACFc,GADH,CACO,4CAA8CD,CAAC,CAACE,GADvD,EAEGN,IAFH,CAEQ,SAAAC,QAAQ,QACZP,CAAAA,QAAQ,CAAC,SAAAD,KAAK,qCACTA,KADS,GAEZ,CACEc,GAAG,CAAEN,QAAQ,CAACC,IAAT,CAAcK,GADrB,CAEEC,QAAQ,CAAEJ,CAAC,CAACI,QAFd,CAGEC,IAAI,CAAER,QAAQ,CAACC,IAAT,CAAcO,IAHtB,CAFY,IAAN,CADI,EAFhB,EAYD,CAbD,EAcD,CAzBH,EA0BD,CA3BQ,CA2BN,EA3BM,CAAT,CA6BA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,KAAK,CAAI,CAC5BA,KAAK,CAACC,cAAN,GACA,GAAI,CAACd,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAL,CAAyC,CACvCc,MAAM,CAACC,QAAP,CAAkB,YAAlB,CACD,CACF,CALD,CAOA,MACE,qBAAC,SAAD,EAAW,SAAS,CAAC,MAArB,EACE,4BAAM,QAAQ,CAAEJ,YAAhB,CAA8B,UAAU,KAAxC,EACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,IAAI,CAAC,QAAjD,cADF,CADF,CADF,CASD","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Container, Button } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\n\r\nexport default function Panier() {\r\n  const [items, setItems] = useState([]);\r\n  useEffect(() => {\r\n    axios\r\n      .post(\r\n        \"http://localhost:4000/clients/getpanier\",\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: \"bearer \" + localStorage.getItem(\"jwt-cookie\")\r\n          }\r\n        }\r\n      )\r\n      .then(resultat => {\r\n        resultat.data.forEach(d => {\r\n          axios\r\n            .get(\"http://localhost:4000/articles/recherche/\" + d._id)\r\n            .then(resultat =>\r\n              setItems(items => [\r\n                ...items,\r\n                {\r\n                  nom: resultat.data.nom,\r\n                  quantite: d.quantite,\r\n                  prix: resultat.data.prix\r\n                }\r\n              ])\r\n            );\r\n        });\r\n      });\r\n  }, []);\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault();\r\n    if (!localStorage.getItem(\"jwt-cookie\")) {\r\n      window.location = \"/Connexion\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\">\r\n      <form onSubmit={handleSubmit} noValidate>\r\n        <Button variant=\"contained\" color=\"primary\" type=\"submit\">\r\n          Commander\r\n        </Button>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}